(this["webpackJsonpemployee-directory"]=this["webpackJsonpemployee-directory"]||[]).push([[0],{28:function(e,t,s){},29:function(e,t,s){},31:function(e,t,s){},32:function(e,t,s){},51:function(e,t,s){},52:function(e,t,s){},53:function(e,t,s){"use strict";s.r(t);var c=s(1),n=s.n(c),a=s(17),r=s.n(a),i=(s(28),s(29),s.p+"static/media/Asset-1.4d2e66bf.svg"),o=s(0);var l=function(){return Object(o.jsxs)("div",{children:[Object(o.jsx)("h1",{children:"Employees"}),Object(o.jsx)("img",{src:i,className:"header-embellishment",alt:"fleur"})]})},u=s(18),j=s(19),b=s(22),h=s(21),d=(s(31),s(4)),O=s(23),m=s(8),p=s(3),f="SET_VIEW_MODE",v="LOADING",x="UPDATE_EMPLOYEES",y="SEARCH",w="UPDATE_SEARCH_RESULTS",N=Object(c.createContext)(),g=N.Provider,A=function(e,t){switch(t.type){case f:return Object(p.a)(Object(p.a)({},e),{},{viewMode:t.viewMode,loading:!1});case x:return Object(p.a)(Object(p.a)({},e),{},{employees:Object(m.a)(t.employees),loading:!1});case y:return Object(p.a)(Object(p.a)({},e),{},{searchTerm:t.searchTerm});case w:return Object(p.a)(Object(p.a)({},e),{},{searchResults:Object(m.a)(t.searchResults)});case v:return Object(p.a)(Object(p.a)({},e),{},{loading:!0});default:return e}},M=function(e){e.value;var t=Object(O.a)(e,["value"]),s=Object(c.useReducer)(A,{employees:[],activeEmployee:{},viewMode:"AZ",searchTerm:"",searchResults:[],loading:!1}),n=Object(d.a)(s,2),a=n[0],r=n[1];return Object(o.jsx)(g,Object(p.a)({value:[a,r]},t))},R=function(){return Object(c.useContext)(N)},E=function(e,t){var s=Object(c.useState)(e),n=Object(d.a)(s,2),a=n[0],r=n[1];return Object(c.useEffect)((function(){var s=setTimeout((function(){r(e)}),t);return function(){clearTimeout(s)}}),[e,t]),a};s(32);var C=function(){var e=R(),t=Object(d.a)(e,2),s=t[0],n=t[1],a=Object(c.useState)(""),r=Object(d.a)(a,2),i=r[0],l=r[1],u=E(i,100);return Object(c.useEffect)((function(){if(!i)return n({type:y,searchTerm:""}),void n({type:w,searchResults:s.employees});if(u){for(var e,t="",c=0;c<u.length;c++){var a=u.charAt(c);isNaN(parseInt(a))||(t+=u.charAt(c))}e=t.length>0?s.employees.filter((function(e){for(var s="",c=0;c<e.phone.length;c++){var n=e.phone.charAt(c);isNaN(parseInt(n))||(s+=e.phone.charAt(c))}return s.indexOf(t)>-1})):s.employees.filter((function(e){return(e.name.first.toLowerCase()+" "+e.name.last.toLowerCase()).indexOf(u.toLowerCase())>-1})),n({type:w,searchResults:e})}}),[u,n,i,s.employees,s.searchTerm]),Object(o.jsx)("div",{className:"d-flex jusitify-content-center",children:Object(o.jsx)("div",{className:"d-flex justify-content-center",children:Object(o.jsxs)("div",{className:"search-wrapper",children:[Object(o.jsx)("i",{className:"bi bi-search m-2"}),Object(o.jsx)("input",{className:"ml-2",type:"text",onChange:function(e){l(e.target.value)}})]})})})},T=s(20),k=s.n(T),S=function(){return k.a.get("https://randomuser.me/api/?inc=id,name,email,dob,phone,cell,picture&nat=us&seed=n8&results=50")};s(51);var Z=function(){var e=R(),t=Object(d.a)(e,2),s=t[0],n=t[1],a=function(){var e=s.searchResults;switch(e.reverse(),n({type:w,searchResults:e}),s.viewMode){case"AZ":n({type:f,viewMode:"ZA"});break;case"ZA":n({type:f,viewMode:"AZ"});break;case"19":n({type:f,viewMode:"91"});break;case"91":n({type:f,viewMode:"19"})}};return Object(c.useEffect)((function(){n({type:v}),S().then((function(e){e.data.results.sort((function(e,t){return e.name.last<t.name.last?-1:e.name.last>t.name.last?1:0})),n({type:f,viewMode:"AZ"}),n({type:x,employees:e.data.results}),n({type:w,searchResults:e.data.results})})).catch((function(e){return console.error(e)}))}),[]),Object(o.jsx)("div",{children:Object(o.jsx)("div",{children:s.searchResults.length?Object(o.jsxs)("table",{className:"table",children:[Object(o.jsx)("thead",{children:"AZ"===s.viewMode||"ZA"===s.viewMode?Object(o.jsxs)("tr",{children:[Object(o.jsxs)("th",{className:"sortable",onClick:a,children:["Name",Object(o.jsx)("span",{className:"sortIcon",children:"AZ"===s.viewMode?Object(o.jsx)("i",{className:"bi bi-sort-alpha-down"}):Object(o.jsx)("i",{className:"bi bi-sort-alpha-up-alt"})})]}),Object(o.jsx)("th",{className:"sortable",onClick:function(){n({type:f,viewMode:"19"});var e=s.searchResults;e.sort((function(e,t){return e.phone<t.phone?-1:e.phone>t.phone?1:0})),n({type:w,searchResults:e})},children:"phone"})]}):Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{className:"sortable",onClick:function(){n({type:f,viewMode:"AZ"});var e=s.searchResults;e.sort((function(e,t){return e.name.last<t.name.last?-1:e.name.last>t.name.last?1:0})),n({type:w,searchResults:e})},children:"Name"}),Object(o.jsxs)("th",{className:"sortable",onClick:a,children:["phone",Object(o.jsx)("span",{className:"sortIcon",children:"19"===s.viewMode?Object(o.jsx)("i",{className:"bi bi-sort-numeric-down"}):Object(o.jsx)("i",{className:"bi bi-sort-numeric-up-alt"})})]})]})}),Object(o.jsx)("tbody",{children:s.searchResults.map((function(e){return Object(o.jsxs)("tr",{children:[Object(o.jsxs)("td",{children:[e.name.first," ",e.name.last]}),Object(o.jsx)("td",{children:e.phone})]},e.id.value.replace(/\s/g,""))}))})]}):Object(o.jsx)("div",{children:"no employees"})})})},I=function(e){Object(b.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(u.a)(this,s);for(var c=arguments.length,n=new Array(c),a=0;a<c;a++)n[a]=arguments[a];return(e=t.call.apply(t,[this].concat(n))).state={},e}return Object(j.a)(s,[{key:"render",value:function(){return Object(o.jsxs)("div",{children:[Object(o.jsx)(C,{}),Object(o.jsx)(Z,{})]})}}]),s}(n.a.Component);s(52);var L=function(){return Object(o.jsx)("main",{className:"container",children:Object(o.jsxs)(M,{children:[Object(o.jsx)(l,{}),Object(o.jsx)(I,{})]})})},P=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,54)).then((function(t){var s=t.getCLS,c=t.getFID,n=t.getFCP,a=t.getLCP,r=t.getTTFB;s(e),c(e),n(e),a(e),r(e)}))};r.a.render(Object(o.jsx)(n.a.StrictMode,{children:Object(o.jsx)(L,{})}),document.getElementById("root")),P()}},[[53,1,2]]]);
//# sourceMappingURL=main.dac310ec.chunk.js.map